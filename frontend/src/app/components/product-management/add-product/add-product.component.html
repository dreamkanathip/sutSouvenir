<div class="modal-dialog modal-lg modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title" style="font-weight: bold">เพิ่มสินค้า</h2>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="modal"
        aria-label="Close"
      ></button>
    </div>

    <div class="modal-body">
      <div class="container">
        <div class="row main-row">
          <!-- รูปภาพสินค้า -->
          <div class="col-md-6">
            <h4 class="ms-3 mt-3">รูปภาพสินค้า</h4>

            <!-- พื้นที่ Drag & Drop -->
            <div
              class="upload-area border rounded d-flex justify-content-center align-items-center flex-column"
              (drop)="onDrop($event)"
              (dragover)="onDragOver($event)"
              (dragleave)="onDragLeave($event)"
              [class.drag-over]="isDragOver"
            >
              <i
                class="bx bx-cloud-upload"
                style="font-size: 3rem; color: #6c757d"
              ></i>
              <p>ลากรูปมาวางที่นี่ หรือคลิกเพื่อเลือกไฟล์</p>
              <input
                type="file"
                (change)="onImageAdd($event)"
                multiple
                accept="image/*"
                class="file-input"
              />
            </div>

            <!-- แสดงตัวอย่างรูปภาพ -->
            <div *ngIf="imagePreview.length > 0" class="preview-container mt-3">
              <div
                *ngFor="let preview of imagePreview; index as i"
                class="preview-item"
              >
                <img [src]="preview" class="preview-img" />
                <button
                  class="btn btn-danger btn-sm remove-btn"
                  (click)="removeFile(i)"
                >
                  > ลบ
                </button>
              </div>
            </div>
          </div>

          <!-- รายละเอียดสินค้า -->
          <div class="col-md-6 right">
            <div>
              <h4 class="mt-3">รายละเอียดสินค้า</h4>
              <form [formGroup]="form" class="input-box mt-1 mb-3">
                <div class="input-field form-group">
                  <input
                    type="text"
                    class="input"
                    id="title"
                    formControlName="title"
                    required
                  />
                  <label for="title">ชื่อสินค้า</label>
                </div>

                <div class="input-field form-group">
                  <input
                    type="number"
                    class="input"
                    id="quantity"
                    formControlName="quantity"
                    required
                  />
                  <label for="quantity">จำนวนสินค้า</label>
                </div>

                <div class="input-field form-group">
                  <input
                    type="number"
                    class="input"
                    id="price"
                    formControlName="price"
                    required
                  />
                  <label for="price">ราคา</label>
                </div>

                <div class="input-field form-group">
                  <textarea
                    class="input"
                    id="description"
                    formControlName="description"
                    required
                    rows="4"
                  ></textarea>
                  <label for="description">คำอธิบายสินค้า</label>
                </div>

                <div class="input-field form-group">
                  <select
                    id="category"
                    formControlName="category"
                    required
                    class="input category"
                  >
                    <option
                      *ngFor="let category of categories"
                      [value]="category.id"
                    >
                      {{ category.name }}
                    </option>
                  </select>
                  <label for="category">หมวดหมู่สินค้า</label>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- ปุ่มบันทึกและย้อนกลับ -->
        <div class="button-group mt-3 mb-3 d-flex justify-content-between">
          <button
            type="submit"
            class="btn btn-success"
            (click)="submit()"
            [disabled]="form.invalid"
          >
            บันทึกสินค้า
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            ย้อนกลับ
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
